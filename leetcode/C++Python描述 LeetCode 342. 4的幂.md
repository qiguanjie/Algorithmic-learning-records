# C++/Python描述 LeetCode 342. 4的幂
>>&emsp; 大家好，我叫亓官劼（qí guān jié ），在GitHub & CSDN中记录学习的点滴历程，时光荏苒，未来可期，加油~博主目前仅在GitHub & CSDN中写博客，唯一博客更新的地址为：[亓官劼的博客](https://blog.csdn.net/qq_43422111)  ，近期将逐渐同步刷题相关记录到GitHub：[Algorithmic-learning-records](https://github.com/qiguanjie/Algorithmic-learning-records)，大多是本人的刷题记录，如果转载请附上原文地址，谢谢。
>
>----
>
>由于学习工作的需要，算法刷题将会逐渐由C++向Python3过度，正在过度中，如实现的不太优美，请见谅。
>
>> 本文原创为亓官劼，请大家支持原创，部分平台一直在恶意盗取博主的文章！！！ 
>> 若需联系博主，可以联系本人微信：qiguanjie2015
>

---

给定一个整数，写一个函数来判

断它是否是 4 的幂次方。如果是，返回 `true` ；否则，返回 `false` 。

整数 `n` 是 4 的幂次方需满足：存在整数 `x` 使得 `n == 4x`

 

**示例 1：**

```
输入：n = 16
输出：true
```

**示例 2：**

```
输入：n = 5
输出：false
```

**示例 3：**

```
输入：n = 1
输出：true
```

 

**提示：**

- `-231 <= n <= 231 - 1`

 

**进阶：**

- 你能不使用循环或者递归来完成本题吗？

## 解题思路

这里有很多递归或者循环的解法，这里不再赘述，这里说一个位运算的方法。我们来观察下4的幂次有什么特点。

* 4的0次幂：0000 0001
* 4的1次幂：0000 0100
* 4的2次幂：0001 0000
* 4的3次幂：0100 0000

我们很容易发现，4的次幂都是在奇数位有一个1，且只有一个1。并且4的次幂一定大于0。我们使用n与`0xaaaaaaaa`进行与操作，我们就可以排除所有偶数位上有1的情况，因为`0xa`为`1010`，数据范围为2的32次幂，所以使用`0xaaaaaaaa`来进行与操作。

在排除所有偶数位有1的情况后，我们还需要来排除一个奇数位有多个1的情况，例如`0101 0000`就不是4的次幂，我们要排除这种情况。我们发现，如果n的奇数位只有一个1的的话，那么`n & n-1`一定为0，所以我们用这个情况来限定奇数位只有1个1.

## 算法实现一 C++

```cpp
class Solution {
public:
    bool isPowerOfFour(int n) {
        return bool((n>0) && !(n&n-1) && !(n&0xaaaaaaaa));
    }
};
```



## 算法实现二 Python

```python
class Solution:
    def isPowerOfFour(self, n: int) -> bool:
        return bool((n>0) and not (n & 0xaaaaaaaa) and not(n&n-1))
```

